N = int(input())

numbers = list(map(int, input().split()))

if numbers[0] == numbers[1]:
    a = 1
    b = 0
else:
    a = (numbers[2] - numbers[1]) // (numbers[1] - numbers[0])
    b = numbers[1] - numbers[0] * a

print(numbers[N - 1] * a + b)
